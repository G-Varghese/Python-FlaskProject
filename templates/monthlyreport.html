{% extends "manager.html" %}
{% block content %}

{% set ns= namespace() %}  <!--Declare and intialize a global varible counter for check the year is repeating-->
{% set ns.counter =1 %}
<br><br>
<h3 style="text-align: center; font-style: italic;"> Monthly Based Report</h3>
<a class="nav-link" href="{{ url_for('report') }}" style="color: blue; text-decoration: underline;">BACK</a><br><br>
<table class="table table-striped">
    
    <tr> <th>YEAR</th><th>MONTH</th><th>TOTAL AMOUNT</th></tr>
    {% for amt in Amount %}
       {% if amt[1] == 1 %}
       {% set month="January" %}
       {% elif amt[1]== 2 %}
       {% set month="February" %}
       {% elif amt[1]== 3 %}
       {% set month="March" %}
       {% elif amt[1]== 4 %}
       {% set month="April" %}
       {% elif amt[1]== 5 %}
       {% set month="May" %}
       {% elif amt[1]== 6 %}
       {% set month="June" %}
       {% elif amt[1]== 7 %}
       {% set month="July" %}
       {% elif amt[1]== 8 %}
       {% set month="August" %}
       {% elif amt[1]== 9 %}
       {% set month="September" %}
       {% elif amt[1]== 10 %}
       {% set month="October" %}
       {% elif amt[1]== 11 %}
       {% set month="November" %}
       {% else %}
       {% set month="December" %}
       {% endif %}
            

        <tr>
         {% set var=amt[0] %}
          {% if ns.counter==var %}
                <td></td>
                <td>{{month}}</td>
                <td>{{amt[2]}}</td>
          {% else %}
               <td>{{amt[0]}}</td>
               <td>{{month}}</td>
               <td>{{amt[2]}}</td>
          {% set ns.counter=amt[0] %} 
          {%endif %}
        </tr>
             

       
    {% endfor %}
</table>

{% endblock %}